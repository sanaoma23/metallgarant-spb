!function(a){function e(a,b){var c=this.data(),d=this.find("ul"),e=!1;if(c.vals&&0!==d.length){a||(a=c.seconds),c.intervalId&&(e=!0,clearTimeout(c.intervalId));var g=Math.floor(a/86400),h=86400*g,i=Math.floor((a-h)/3600);h+=3600*i;var j=Math.floor((a-h)/60);h+=60*j;for(var o,k=a-h,l=(g<100?"0"+(g<10?"0":""):"")+g+(i<10?"0":"")+i+(j<10?"0":"")+j+(k<10?"0":"")+k,m=c.vals.length-1,n=l.length-1;m>=0;m--,n--)o=parseInt(l.substr(n,1)),c.vals[m]=o,d.eq(m).children().html(o);if(e||b){var p=this;c.ttStartTime=Date.now(),c.intervalId=setTimeout(function(){f.call(p)},1e3),this.data("intervalId",c.intervalId)}}}function f(b){var c=this.find("ul"),d=this.data();if(!d.vals||0==c.length)return d.intervalId&&(clearTimeout(d.intervalId),this.data("intervalId",null)),void(d.callback&&d.callback());void 0==b&&(b=d.iSec);var e=d.vals[b],g=c.eq(b),h=g.children(),i=d.countdown?-1:1;if(h.eq(1).html(e),e+=i,b==d.iSec){var j=d.tickTimeout,k=(new Date).getTime()-d.ttStartTime;d.sec+=i,j+=Math.abs(d.seconds-d.sec)*j-k,d.intervalId=setTimeout(function(){f.call(l)},j)}(e<0||e>d.limits[b])&&(e<0?(e=d.limits[b],b==d.iHour&&d.displayDays>0&&b>0&&0==d.vals[b-1]&&(e=3)):e=0,b>0&&f.call(this,b-1)),h.eq(0).html(e);var l=this;a.support.transition?(g.addClass("transition"),g.css({top:0}),setTimeout(function(){g.removeClass("transition"),h.eq(1).html(e),g.css({top:"-"+d.height+"px"}),i>0||b!=d.iSec||(d.sec==d.countdownAlertLimit&&c.parent().addClass("timeTo-alert"),0===d.sec&&(c.parent().removeClass("timeTo-alert"),d.intervalId&&(clearTimeout(d.intervalId),l.data("intervalId",null)),"function"==typeof d.callback&&d.callback()))},410)):g.stop().animate({top:0},400,b!=d.iSec?null:function(){h.eq(1).html(e),g.css({top:"-"+d.height+"px"}),i>0||b!=d.iSec||(d.sec==d.countdownAlertLimit?c.parent().addClass("timeTo-alert"):0==d.sec&&(c.parent().removeClass("timeTo-alert"),d.intervalId&&(clearTimeout(d.intervalId),l.data("intervalId",null)),"function"==typeof d.callback&&d.callback()))}),d.vals[b]=e}var b={callback:null,captionSize:0,countdown:!0,countdownAlertLimit:10,displayCaptions:!1,displayDays:0,displayHours:!0,fontFamily:"Verdana, sans-serif",fontSize:28,lang:"en",seconds:0,start:!0,theme:"white",vals:[0,0,0,0,0,0,0,0,0],limits:[9,9,9,2,9,5,9,5,9],iSec:8,iHour:4,tickTimeout:1e3,intervalId:null},c={start:function(a){a&&e.call(this,a);var b=this,c=setTimeout(function(){f.call(b)},1e3);this.data("ttStartTime",(new Date).getTime()),this.data("intervalId",c)},stop:function(){var a=this.data();return a.intervalId&&(clearTimeout(a.intervalId),this.data("intervalId",null)),a},reset:function(a){var b=c.stop.call(this);this.find("div").css({backgroundPosition:"left center"}),this.find("ul").parent().removeClass("timeTo-alert"),"undefined"==typeof a&&(a=b.value),e.call(this,a,!0)}},d={en:{days:"days",hours:"hours",min:"minutes",sec:"seconds"},ru:{days:"дней",hours:"часов",min:"минут",sec:"секунд"},ua:{days:"днiв",hours:"годин",min:"хвилин",sec:"секунд"},de:{days:"Tag",hours:"Uhr",min:"Minuten",sec:"Secunden"},fr:{days:"jours",hours:"heures",min:"minutes",sec:"secondes"},sp:{days:"días",hours:"reloj",min:"minutos",sec:"segundos"},it:{days:"giorni",hours:"ore",min:"minuti",sec:"secondi"},nl:{days:"dagen",hours:"uren",min:"minuten",sec:"seconden"},no:{days:"dager",hours:"timer",min:"minutter",sec:"sekunder"},pt:{days:"dias",hours:"horas",min:"minutos",sec:"segundos"}};return"undefined"==typeof a.support.transition&&(a.support.transition=function(){var a=document.body||document.documentElement,b=a.style,c=void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition;return c}()),a.fn.timeTo=function(){for(var f,i,g={},h=0;i=arguments[h];++h)if(0==h&&"string"==typeof i)f=i;else if("object"==typeof i)"function"==typeof i.getTime?g.timeTo=i:g=a.extend(g,i);else if("function"==typeof i)g.callback=i;else{var j=parseInt(i,10);isNaN(j)||(g.seconds=j)}if(g.timeTo){var k,l=(new Date).getTime();g.timeTo.getTime?k=g.timeTo.getTime():"number"==typeof g.timeTo&&(k=g.timeTo),g.timeTo>l&&(g.seconds=Math.floor((k-l)/1e3))}else if(g.time||!g.seconds){var k=g.time;if(k||(k=new Date),"object"==typeof k&&k.getTime)g.seconds=3600*k.getHours()+60*k.getMinutes()+k.getSeconds(),g.countdown=!1;else if("string"==typeof k){for(var p,m=k.split(":"),n=0,o=1;p=m.pop();)n+=p*o,o*=60;g.seconds=n,g.countdown=!1}}if(g.countdown!==!1&&g.seconds>86400&&"undefined"==typeof g.displayDays){var q=Math.floor(g.seconds/86400);g.displayDays=q<10&&1||q<100&&2||3}else g.displayDays===!0?g.displayDays=3:g.displayDays&&(g.displayDays=g.displayDays>0?Math.floor(g.displayDays):3);return this.each(function(){var j,h=a(this),i=h.data();if(i.intervalId&&(clearInterval(i.intervalId),i.intervalId=null),i.vals&&"reset"!==f)a.extend(i,g);else{i.options&&(g=i.options),i=a.extend(b,g),i.options=g,i.height=Math.round(100*i.fontSize/93),i.width=Math.round(.8*i.fontSize+.13*i.height),i.displayHours=!(!i.displayDays&&!i.displayHours),h.addClass("timeTo").addClass("timeTo-"+i.theme).css({fontFamily:i.fontFamily,fontSize:i.fontSize+"px"});var k=Math.round(i.height/10),l='<ul style="left:'+k+"px; top:-"+i.height+'px"><li>0</li><li>0</li></ul></div>',m=' style="width:'+i.width+"px; height:"+i.height+'px;"',n='<div class="first"'+m+">"+l,o="<div"+m+">"+l,p="<span>:</span>",q=Math.round(2*i.width+3)+1,r=i.captionSize||Math.round(.43*i.fontSize),s=(i.displayCaptions?(i.displayHours?'<figure style="max-width:'+q+'px">$1<figcaption style="font-size:'+r+'px">'+d[i.lang].hours+"</figcaption></figure>"+p:"")+'<figure style="max-width:'+q+'px">$1<figcaption style="font-size:'+r+'px">'+d[i.lang].min+"</figcaption></figure>"+p+'<figure style="max-width:'+q+'px">$1<figcaption style="font-size:'+r+'px">'+d[i.lang].sec+"</figcaption></figure>":(i.displayHours?"$1"+p:"")+"$1"+p+"$1").replace(/\$1/g,n+o);if(i.displayDays>0){var t=.4*i.fontSize,u=n;for(j=i.displayDays-1;j>0;j--)u+=1===j?o.replace('">'," margin-right:"+Math.round(t)+'px">'):o;s=(i.displayCaptions?'<figure style="width:'+Math.round(i.width*i.displayDays+t+4)+'px">$1<figcaption style="font-size:'+r+"px; padding-right:"+Math.round(t)+'px">'+d[i.lang].days+"</figcaption></figure>":"$1").replace(/\$1/,u)+s}h.html(s)}var v=h.find("div");if(v.length<i.vals.length){var w=i.vals.length-v.length,x=i.vals,y=i.limits;for(i.vals=[],i.limits=[],j=0;j<v.length;j++)i.vals[j]=x[w+j],i.limits[j]=y[w+j];i.iSec=i.vals.length-1,i.iHour=i.vals.length-5}i.sec=i.seconds,h.data(i),f&&c[f]?c[f].call(h,i.seconds):i.start?c.start.call(h,i.seconds):e.call(h,i.seconds)})},jQuery}(jQuery);